<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Heat Pump Leads</title>
    <link rel="stylesheet" href="admin-style.css">
</head>
<body>
    <div class="header">
        <h1>ðŸ”¥ Heat Pump Leads Dashboard</h1>
        <p>Manage and track your affiliate lead generation</p>
    </div>

    <div class="container">
        <!-- Statistics Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Leads</div>
                <div class="stat-value" id="totalLeads">-</div>
                <div class="stat-change">â†‘ All time</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Eligible Leads</div>
                <div class="stat-value" id="eligibleLeads">-</div>
                <div class="stat-change">Grant qualified</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">This Month</div>
                <div class="stat-value" id="monthLeads">-</div>
                <div class="stat-change">Last 30 days</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">This Week</div>
                <div class="stat-value" id="weekLeads">-</div>
                <div class="stat-change">Last 7 days</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Today</div>
                <div class="stat-value" id="todayLeads">-</div>
                <div class="stat-change">So far</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Pending Earnings</div>
                <div class="stat-value">Â£<span id="pendingEarnings">0</span></div>
                <div class="stat-change">To be paid</div>
            </div>
        </div>

        <!-- Actions Bar -->
        <div class="actions-bar">
            <div class="filter-group">
                <input type="text" class="search-input" id="searchInput" placeholder="Search leads...">
                <select class="filter-select" id="eligibilityFilter">
                    <option value="">All Leads</option>
                    <option value="true">Eligible Only</option>
                    <option value="false">Not Eligible</option>
                </select>
            </div>
            <div class="filter-group">
                <button class="btn btn-secondary" onclick="refreshLeads()">ðŸ”„ Refresh</button>
                <button class="btn btn-primary" onclick="exportCSV()">ðŸ“Š Export CSV</button>
            </div>
        </div>

        <!-- Leads Table -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Contact</th>
                        <th>Location</th>
                        <th>Eligible</th>
                        <th>Created</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="leadsTableBody">
                    <tr>
                        <td colspan="7" class="loading">Loading leads...</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Lead Detail Modal -->
    <div class="modal" id="leadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Lead Details</h2>
                <span class="close-btn" onclick="closeModal()">&times;</span>
            </div>
            <div id="leadDetails"></div>
        </div>
    </div>

    <script src="admin-script.js"></script>
</body>
</html>
